#:import c kivy.utils.get_color_from_hex
<MLabel@Label>:
    color:c("#efd252")
    text_size:(self.width,None)
    halign:"left"
    valign:"top"
    size_hint:(1,None)
    height:self.texture_size[1]
    font_name:"Roboto"
    font_size:25
    markup:True
<MModalView>:
    size_hint:0.5, 0.2
    canvas:
        Color:
            rgba:(1,1,1,1)
        Rectangle:
            size:self.size
            pos:self.pos
    BoxLayout:
        Label:
            size_hint:3,1
            text:"Eksik veya yanlış\n giriş yaptınız!"
            color:(1,0,0,1)
        Button:
            text:"Kapat"
            size_hint:1,1
            on_press:root.dismiss()
<PModalView>:
    size_hint:0.5,0.2
    lbl:_lbl
    Label:
        id:_lbl
        text:""

<KullaniciButton>:
    img:_img
    txt:_txt
    background_normal:"../images/btn_normal2.png"
    background_down:"../images/btn_down2.png"
    BoxLayout:
        pos:root.pos
        AsyncImage:
            id:_img
            size_hint:None,None
            size:100,100
        Label:
            size_hint:None,None
            id:_txt
            markup:True
            size:500,100



<KModalView>:
    size_hint:0.5,0.2
    GridLayout:
        rows:3
        padding:10
        spacing:5
        Label:
            text:root.labeltext
        Button:
            size_hint:1,None
            height:30
            text:"Çıkış"
            on_press:exit()
        Button:
            size_hint:1,None
            height:30
            text:"Vazgeç"
            on_press:root.dismiss()
<KullaniciSayfa>:
    container:container
    size_hint:1,1
    canvas:
        Rectangle:
            size:self.size
            pos:self.pos
            source:"../images/bg.png"
    BoxLayout:
        size_hint:1,None
        id:container
        orientation:"vertical"
<HomePage>:
    id:_root
    username:_user
    imgs:_img
    msgLabel:_msgLabel
    msgInput:_msgInput
    canvas:
        Rectangle:
            pos:self.pos
            size:self.size
            source:"cht_bg.png"
    AnchorLayout:
        anchor_x:"left"
        anchor_y:"top"
        BoxLayout:
            canvas:
                Rectangle:
                    pos:self.pos
                    size:self.size
                    source:"msg_bg.png"
            size_hint:1,None
            height:30
            AsyncImage:
                id:_img
                source:""
                size_hint:None,None
                size:(50,30)
            Label:
                text:"Yahya"
                id:_user
            Button:
                size_hint:None,None
                text:"U"
                font_name:"ky"
                pos_hint:{"right":1}
                size:50,30
                background_color:c("#ec6527")
                on_press:app.userSettedBefore(_root)
    AnchorLayout:
        anchor_x:"center"
        anchor_y:"center"
        ScrollView:
            size_hint:1,.75
            padding:2
            spacing:10
            MLabel:
                id:_msgLabel
                text:""
    AnchorLayout:
        anchor_x:"center"
        anchor_y:"bottom"
        BoxLayout:
            size_hint:1,0.2
            TextInput:
                id:_msgInput
                size_hint:3,0.5
                font_name:"Roboto"
            Button:
                size_hint:1,0.5
                text:"F"
                font_name:"ky"
                background_color:c("16a7a3")
                on_press:_root.sendMsg()
BoxLayout:
    orientation:"vertical"
    padding:5
    spacing:10
    size_hint:0.8,0.5
    pos_hint:{"center_x":0.5,"center_y":0.5}
    canvas:
        Rectangle:
            size:self.size
            pos:self.pos
            source:"../images/bg.png"
    border:(30,30,30,30)
    Label:
        text:"[size=25]CSMA Yönetim Panel Girişi[/size]"
        markup:True
        color:(0,0,0,1)
        size_hint:1,None
        height:40
    BoxLayout:
        orientation:"vertical"
        Label:
            text:"Kullanıcı Adı"
            text_size:self.size
            halign:"left"
            valign:"middle"
            color:(0,0,0,1)
        TextInput:
            id:kullanici
            multiline:False
            focus:True
            on_text_validate:app.userEnter()
    BoxLayout:
        orientation:"vertical"
        Label:
            text:"Parola"
            color:0,0,0,1
            text_size:self.size
            halign:"left"
            valign:"middle"
        TextInput:
            id:parola
            password:True
            multiline:False
            focus:True
            on_text_validate:app.passEnter()
    BoxLayout:
        orientation:"vertical"
        size_hint:1,0.2
        Button:
            text:"Giriş"
            border:(20,20,20,20)
            color:0,0,0,1
            size_hint:0.2,0.1
            pos_hint:{"right":1}
            on_release:app.logIn()
    RelativeLayout:
        size_hint:None,None
        size:0,0
        Button:
            size_hint:None,None
            size:50,30
            background_normal:"../images/btn_normal.png"
            background_down:"../images/btn_down.png"
            text:"[size=25][font=Roboto]X[/font][/size]"
            markup:True
            pos:root.width-self.width+15,root.height-self.height+10
            on_press:app.exitOnClick()


